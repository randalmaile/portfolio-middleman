"use strict";function team_margin_fix(){$(window).width()>480&&($("#team-container .team-member").removeClass("zero-marginleft"),$("#team-container .team-member:nth-child(4n+1)").addClass("zero-marginleft")),$(window).width()<=480&&($("#team-container .team-member").removeClass("zero-marginleft"),$("#team-container .team-member:nth-child(2n+1)").addClass("zero-marginleft"))}function column_organiser(){1024>window_width&&($(".column-selector .button3").trigger("click"),$(".column-selector").hide()),768>window_width&&$(".column-selector .button2").trigger("click"),window_width>1024&&$(".column-selector").show()}function renderParallax(e){$(".parallax-container").each(function(){if($(window).width()>=1e3){var t=$(this),i=t.offset().top,a=$(window).height(),n=$(window).scrollTop(),o=new Image;o.src=t.css("background-image").replace(/"/g,"").replace(/url\(|\)$/gi,"");var s=o.height,l=t.height();if(n+a>i&&i+l>n){var r=-((s-l)*(n+a-i)/(a+l));e?t.animate({backgroundPositionY:r},"fast"):t.css("background-position","center "+r+"px")}}})}var twitter_query="#twitter",slide_speed=1e4,isMobile={Android:function(){return navigator.userAgent.match(/Android/i)?!0:!1},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)?!0:!1},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)?!0:!1},Windows:function(){return navigator.userAgent.match(/IEMobile/i)?!0:!1},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Windows()}};$(window).load(function(){var e=$("#main-slider-container .flexslider").flexslider({controlNav:!1,pauseOnAction:!0,touch:!1,slideshowSpeed:slide_speed,start:function(){var t;$("#main-slider-container > img:first-child").hide();for(var i=0;i<e.data("flexslider").count;i++)t=$(e.data("flexslider").slides[i]),t.find(".main-headings").animate({marginTop:-300,opacity:0},0),t.find(".sub-headings").animate({marginTop:300,opacity:0},0),t.find("button").animate({marginTop:200,opacity:0},0),t.find("img.slide-element").animate({marginRight:-800,opacity:0},0);var a=e.data("flexslider").currentSlide;t=$(e.data("flexslider").slides[a]),t.find(".main-headings").animate({marginTop:0,opacity:1},1e3),t.find(".sub-headings").animate({marginTop:0,opacity:1},1e3),t.find("button").animate({marginTop:0,opacity:1},1500),t.find("img.slide-element").animate({marginRight:0,opacity:1},2e3),$(".progress-bar .bar").animate({width:"100%"},slide_speed,"linear").width(0)},before:function(){var t=e.data("flexslider").currentSlide,i=$(e.data("flexslider").slides[t]);i.find(".main-headings").animate({marginTop:-300,opacity:0},1e3),i.find(".sub-headings").animate({marginTop:300,opacity:0},1e3),i.find("button").animate({marginTop:200,opacity:0},1e3),i.find("img.slide-element").animate({marginRight:-800,opacity:0},1500),$(".progress-bar .bar").stop().width("100%")},after:function(){e.data("flexslider").pause(),e.data("flexslider").play(),$(".progress-bar .bar").stop().width(0).animate({width:"100%"},slide_speed,"linear");var t=e.data("flexslider").currentSlide,i=$(e.data("flexslider").slides[t]);i.find(".main-headings").animate({marginTop:0,opacity:1},1e3),i.find(".sub-headings").animate({marginTop:0,opacity:1},1e3),i.find("button").animate({marginTop:0,opacity:1},1500),i.find("img.slide-element").animate({marginRight:0,opacity:1},2e3)}});$("#gallery").mixitup({targetSelector:".all",filterSelector:".filter",onMixEnd:function(){setTimeout(function(){renderParallax(!0)},0)}}),$("#client-slider").bxSlider({slideWidth:190,minSlides:1,maxSlides:5,moveSlides:1,slideMargin:0,controls:!0,nextText:"",prevText:""}),$(function(){$("#main-nav ul").tinyNav()}),$(".tweets .tweet-container #tweet-inner-container").tweet({query:twitter_query,twitter_api_proxy_url:"twitter.php",join_text:!1,avatar_size:!1,count:2,template:"{avatar}{text}{join}"}),$(".tweets #more-button-container .more-tweets").attr("href","http://www.twitter.com/search?q="+encodeURIComponent(twitter_query))}),$(".tweets .tweet-container #tweet-inner-container").tweet({username:"BungMARKgtown",twitter_api_proxy_url:"twitter.php",join_text:!1,avatar_size:!1,count:2,template:"{avatar}{text}{join}"}),$(window).load(function(){team_margin_fix()}),$(window).resize(function(){team_margin_fix()});var testimonial_height;$(window).load(function(){$("#gallery").hasClass("three-cols")?$("#gallery").append('<li class="gap"></li>'):$("#gallery").hasClass("four-cols")&&$("#gallery").append('<li class="gap"></li><li class="gap"></li>'),$("#testimonials .testimonial:nth-child(2n-1)").addClass("zero-marginleft"),$("#client-slider-container .client-logo img").show(),$("#options-panel .container .options ul li:nth-child(3n+1)").addClass("zero-marginleft"),window.setTimeout(function(){$("#options-panel .container").addClass("hide").addClass("show")},500),$("#main-nav li:first-child").addClass("active"),$("#client-slider-container .bx-prev").addClass("icon-caret-left"),$("#client-slider-container .bx-next").addClass("icon-caret-right"),testimonial_height=$(".parallax-container .testimonial-by-container").height(),testimonial_height+=25,$(".parallax-container .testimonial-by-container").css("line-height",testimonial_height+"px")}),$(window).resize(function(){testimonial_height=$(".parallax-container .testimonial-by-container").height(),testimonial_height+=25,$(".parallax-container .testimonial-by-container").css("line-height",testimonial_height+"px")});var lastId,topMenu=$("header"),topMenuHeight=topMenu.outerHeight(),menuItems=topMenu.find("a"),scrollItems=menuItems.map(function(){var e=$($(this).attr("href"));return e.length?e:void 0});$(window).resize(function(){topMenuHeight=topMenu.outerHeight()}),menuItems.click(function(e){var t=$(this).attr("href"),i="#"===t?0:$(t).offset().top-topMenuHeight+65;$("html, body").stop().animate({scrollTop:i},300),e.preventDefault()}),$(window).scroll(function(){var e=$(this).scrollTop()+topMenuHeight,t=scrollItems.map(function(){return $(this).offset().top<e?this:void 0});t=t[t.length-1];var i=t&&t.length?t[0].id:"";lastId!==i&&(lastId=i,menuItems.parent().removeClass("active").end().filter("[href=#"+i+"]").parent().addClass("active"))}),$(".nav li a, #top-button").click(function(){return $("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},300),!1}),$(window).load(function(){$(".button-container div:not(.active) span").css("opacity","0"),$(".service-description:not(.default)").hide(),$(".button-container div button").click(function(){$(".button-container div").removeClass("active"),$(".button-container span").css("opacity","0"),$(".service-description").hide();var e=$(this).parent().attr("class");$(this).parent().addClass("active"),$("."+e).children("span").css("opacity","1"),$(".service-description."+e).show()}),isMobile.Android()&&$(".button-container .service-arrow").hide()}),$(window).load(function(){$(".collapsable-item .hidden-container").each(function(){isMobile.Android()?($(".collapsable-item .hidden-container").hide(),$(this).prev().click(function(){$(this).parent().parent().find(".clickable-area").not(this).removeClass("active"),$(this).parent().parent().find(".hidden-container").not($(this).next()).hide(),$(this).toggleClass("active"),"none"===$(this).next().css("display")?$(this).next().css("max-height",$(this).next().show()):$(this).next().hide(),$(this).parent().parent().find(".clickable-area").hasClass("active")?($(this).parent().parent().find(".clickable-area").children("button").html("+"),$(this).children("button").html("-")):$(this).parent().parent().find("button").html("+")})):($(".collapsable-item .hidden-container").css("max-height","0"),$(this).css("max-height","none"),$(this).data("original-height",$(this).height()),$(this).css("max-height",0),$(this).prev().click(function(){$(this).parent().parent().find(".clickable-area").not(this).removeClass("active"),$(this).parent().parent().find(".hidden-container").not($(this).next()).css("max-height","0px"),$(this).toggleClass("active"),"0px"===$(this).next().css("max-height")?$(this).next().css("max-height",$(this).next().data("original-height")):$(this).next().css("max-height","0px"),$(this).parent().parent().find(".clickable-area").hasClass("active")?($(this).parent().parent().find(".clickable-area").children("button").html("+"),$(this).children("button").html("-")):$(this).parent().parent().find("button").html("+")}))}),$(".gallery-modal-container").hide()}),$("#options-panel .container .toggle-button button").click(function(){$("#options-panel").hasClass("show")?($("#options-panel").removeClass("show"),$("#options-panel").addClass("hide")):$("#options-panel").hasClass("hide")&&($("#options-panel").removeClass("hide"),$("#options-panel").addClass("show"))}),$("#options-panel .container #iconic").click(function(){$("header").removeAttr("class"),$("header").addClass("iconic"),$("#main-slider-container").css("padding-top",$("header").height()),topMenu=$("header"),topMenuHeight=topMenu.outerHeight()}),$("#options-panel .container #simple").click(function(){$("header").removeAttr("class"),$("header").addClass("simple"),$("#main-slider-container").css("padding-top",$("header").height()),topMenu=$("header"),topMenuHeight=topMenu.outerHeight()}),$(window).load(function(){$("#main-slider-container").css("padding-top",$("header").height())}),$(window).resize(function(){$("#main-slider-container").css("padding-top",$("header").height())}),$("#green-template").click(function(){$("#layout-css").attr("href","styles/layouts/green-layout.css")}),$("#orange-template").click(function(){$("#layout-css").attr("href","styles/layouts/orange-layout.css")}),$("#blue-template").click(function(){$("#layout-css").attr("href","styles/layouts/blue-layout.css")}),$("#bright-green-template").click(function(){$("#layout-css").attr("href","styles/layouts/bright-green-layout.css")}),$("#magenta-template").click(function(){$("#layout-css").attr("href","styles/layouts/magenta-layout.css")}),$("#yellow-template").click(function(){$("#layout-css").attr("href","styles/layouts/yellow-layout.css")});var window_width;window_width=$(window).width(),$(window).resize(function(){window_width=$(window).width()}),$(".column-selector .button2").click(function(){$("#gallery").removeAttr("class"),$(".column-selector .button2,.column-selector .button3,.column-selector  .button4").removeClass("active"),$(this).addClass("active"),$("#gallery").addClass("two-cols"),renderParallax(!0)}),$(".column-selector .button3").click(function(){$("#gallery").removeAttr("class"),$(".column-selector .button2,.column-selector .button3,.column-selector .button4").removeClass("active"),$(this).addClass("active"),$("#gallery").addClass("three-cols"),renderParallax(!0)}),$(".column-selector .button4").click(function(){$("#gallery").removeAttr("class"),$(".column-selector .button2,.column-selector .button3,.column-selector .button4").removeClass("active"),$(this).addClass("active"),$("#gallery").addClass("four-cols"),renderParallax(!0)}),$(window).load(function(){column_organiser()}),$(window).resize(function(){column_organiser()});var scroll_position;$(".gallery-item .gallery-show-modal").click(function(e,t){var i,a,n,o,s=$(this).closest("li.gallery-item").parent().find(".gallery-item").length,l=$(this).closest("li.gallery-item").index();for(i=0;s>i;i++)if(a=(l+1+i)%s,"inline-block"===$(this).closest("li.gallery-item").parent().find(".gallery-item").eq(a).css("display")){n=$(this).closest("li.gallery-item").parent().find(".gallery-item").eq(a);break}for(i=0;s>i;i++)if(a=(l-1-i+2*s)%s,"inline-block"===$(this).closest("li.gallery-item").parent().find(".gallery-item").eq(a).css("display")){o=$(this).closest("li.gallery-item").parent().find(".gallery-item").eq(a);break}var r=$(this).parent().parent().find(".gallery-modal-container").children().clone(!0);if($("body, html").css("overflow","hidden"),scroll_position=$(document).scrollTop()>0?$(document).scrollTop():scroll_position,isMobile.Android()&&$("#main-body-container").css("position","fixed"),$("body").append(r),t&&t.extra)switch(r.css("opacity",0),t.extra){case"next":r.css("left","80%").delay(150).animate({opacity:1,left:"50%",speed:"fast"});break;case"prev":r.css("left","20%").delay(150).animate({opacity:1,left:"50%",speed:"fast"})}else r.hide().delay(250).fadeIn();$("#overlay").fadeIn(),r.find(".close-button").click(function(){r.fadeOut({complete:function(){r.remove()}}),$("#overlay").fadeOut(),$("body, html").css("overflow","visible"),isMobile.Android()&&($("#main-body-container").css("position","static"),setTimeout(function(){$("body").scrollTop(scroll_position)},800))}),$("#overlay").click(function(){r.find(".close-button").trigger("click")}),r.find(".gallery-next").click(function(){r.animate({left:"0%",opacity:0},{complete:function(){r.remove()}}),n.find(".gallery-show-modal").trigger("click",{extra:"next"})}),r.find(".gallery-prev").click(function(){r.animate({left:"100%",opacity:0},{complete:function(){r.remove()}}),o.find(".gallery-show-modal").trigger("click",{extra:"prev"})})}),$(window).load(function(){$(function(){if(!$.support.placeholder){var e=document.activeElement;$(":text").focus(function(){""!==$(this).attr("placeholder")&&$(this).val()===$(this).attr("placeholder")&&$(this).val("").removeClass("hasPlaceholder")}).blur(function(){""===$(this).attr("placeholder")||""!==$(this).val()&&$(this).val()!==$(this).attr("placeholder")||$(this).val($(this).attr("placeholder")).addClass("hasPlaceholder")}),$(":text").blur(),$(e).focus()}})}),$(window).load(function(){$(".parallax-container").each(function(){$(this).css("background-image",'url("'+$(this).find("img.parallax-bg").attr("src")+'")'),$(this).find(".parallax-bg").remove()}),renderParallax(!1),$(window).scroll(function(){renderParallax(!1)}),$(window).resize(function(){renderParallax(!1)})}),$(window).load(function(){var e,t=$(".skill").offset().top;e=isMobile?t-($(window).height()/2+150):t-$(window).height()/2,$(window).scroll(function(){$(window).scrollTop()>e&&($(".skill").removeClass("empty"),$(".skill").addClass("full"))})}),$(window).load(function(){isMobile.iOS()&&$(".process-grid li").click(function(){$(this).children(".process").hasClass("hover-emulate")?$(".process").removeClass("hover-emulate"):($(".process").removeClass("hover-emulate"),$(this).children(".process").addClass("hover-emulate"))}),isMobile&&($(".process-info-front").hide(),$(".process-info-front p").hide(),$(".process-info-front").show(),$(".process-info-front p").show())}),isMobile.any()||$(".button-container button").addClass("hover-enabled"),$("#main-nav").on("click","select",function(){$("header").css("left","0px")}),$(document).ready(function(){$("#contact-form").submit(function(){var e=!1,t=this;return $(this).find("input, textarea, span").removeClass("error"),$(this).find("input, textarea").each(function(){""===$.trim($(this).val())&&(e=!0,$(this).addClass("error"),$("#row6 form > span").addClass("error"))}),e||($(this).find("[type=submit]").prop("disabled",!0),$(this).find("[type=submit]").addClass("disabled"),$.ajax({url:"send_form.php",type:"POST",data:$(this).serialize(),success:function(e){if("OK"===e){$(t).find("input, textarea").val("");var i=$("<p />");i.append("Your message has been received. Thank you for contacting us."),$("#row6 .heading-container #form-alert").append(i),i.delay(6e3).fadeOut()}else{var a=$("<p />");a.append("There was an error while sending the form. Please try again later."),$("#row6 .heading-container").append(a),a.delay(6e3).fadeOut()}},error:function(){var e=$("<p />");e.append("There was an error while sending the form. Please try again later."),$("#row6 .heading-container").append(e),e.delay(6e3).fadeOut()},complete:function(){$(t).find("[type=submit]").prop("disabled",!1),$(t).find("[type=submit]").removeClass("disabled")}})),!1})});